# 🚀 快速启动指南 - 智能推荐系统

## 文件说明

我为你创建了以下文件：

### 📋 文档文件（位于项目根目录）

1. **给你的建议.md** ⭐ **最重要，从这里开始！**
   - 最易懂的中文说明
   - 直接回答你的问题
   - 告诉你具体怎么做

2. **项目增强建议总结.md**
   - 详细的实施计划
   - 简历撰写建议
   - 面试准备要点

3. **ENHANCEMENT_PROPOSAL.md**
   - 6 个完整的增强方案
   - 每个方案都有详细的代码示例
   - 包含架构设计和实现细节

4. **RECOMMENDATION_SYSTEM_GUIDE.md**
   - 推荐系统的完整实现指南
   - API 文档
   - 使用示例和测试方法

### 💻 代码文件

#### 后端（已完成）✅

```
aurora-mcp/src/main/java/com/zzk/mcp/
├── model/
│   └── Recommendation.java              # 推荐结果实体类
├── service/
│   └── RecommendationService.java       # 核心推荐服务（260+ 行）
└── controller/
    └── RecommendationController.java    # REST API 控制器
```

#### 前端（已完成）✅

```
aurora-ui/src/views/stardew/
└── recommendation/
    └── index.vue                        # 完整的推荐界面（400+ 行）
```

## 🏃 快速开始（5 分钟）

### 步骤 1: 测试后端 API

```bash
# 1. 进入 MCP 模块
cd aurora-mcp

# 2. 启动服务（确保 MySQL 和 Redis 已启动）
mvn spring-boot:run

# 3. 在新终端测试 API
curl "http://localhost:8099/api/recommendation/personalized?query=作物&topK=5"
```

如果看到 JSON 响应，说明后端工作正常！

### 步骤 2: 配置前端路由

**方法一：动态路由（推荐）**

如果你的项目使用后端返回的动态路由（RuoYi 框架默认方式），你需要：

1. 在后台管理系统中添加菜单：
   - 菜单名称：智能推荐
   - 路由地址：/stardew/recommendation
   - 组件路径：stardew/recommendation/index
   - 图标：star

**方法二：静态路由**

如果你想直接在代码中添加路由，编辑 `aurora-ui/src/router/index.js`:

```javascript
// 在 constantRoutes 数组中添加
{
  path: '/stardew',
  component: Layout,
  redirect: '/stardew/recommendation',
  name: 'Stardew',
  meta: { title: '星露谷助手', icon: 'star' },
  children: [
    {
      path: 'recommendation',
      component: () => import('@/views/stardew/recommendation/index'),
      name: 'Recommendation',
      meta: { title: '智能推荐', icon: 'guide' }
    },
    {
      path: 'mcp',
      component: () => import('@/views/stardew/mcp/index'),
      name: 'MCP',
      meta: { title: 'MCP 对话', icon: 'chat' }
    },
    {
      path: 'rag',
      component: () => import('@/views/stardew/rag/index'),
      name: 'RAG',
      meta: { title: 'RAG 问答', icon: 'search' }
    },
    {
      path: 'image',
      component: () => import('@/views/stardew/image/index'),
      name: 'Image',
      meta: { title: '图像分析', icon: 'picture' }
    },
    {
      path: 'show',
      component: () => import('@/views/stardew/show/index'),
      name: 'Show',
      meta: { title: '数据展示', icon: 'table' }
    }
  ]
}
```

### 步骤 3: 启动前端

```bash
# 1. 进入前端目录
cd aurora-ui

# 2. 安装依赖（如果还没安装）
npm install

# 3. 启动开发服务器
npm run dev

# 4. 浏览器访问
# http://localhost:80
```

### 步骤 4: 测试功能

1. 登录系统（如果需要）
2. 在左侧菜单找到"智能推荐"
3. 尝试三个标签页：
   - **个性化推荐**: 输入"最赚钱的作物"
   - **策略建议**: 输入"我是春季第一周的新手，只有500金币"
   - **上下文推荐**: 输入任何游戏相关问题

## 🔧 配置说明

### 后端配置

确保 `aurora-mcp/src/main/resources/application.yml` 中有正确的配置：

```yaml
spring:
  # 数据库配置
  datasource:
    url: jdbc:mysql://localhost:3306/ry-vue?useUnicode=true&characterEncoding=utf8&zeroDateTimeBehavior=convertToNull&useSSL=true&serverTimezone=GMT%2B8
    username: root
    password: your_password
  
  # Redis 配置（用于向量存储）
  data:
    redis:
      host: localhost
      port: 6379
      password: # 如果有密码
  
  # AI 配置
  ai:
    openai:
      api-key: your_api_key_here
      base-url: https://your-api-endpoint/
      chat:
        options:
          model: GLM-4.5V  # 或其他模型
    vectorstore:
      redis:
        index-name: stardew_index
        initialize-schema: true
```

### 前端配置

检查 `aurora-ui/vue.config.js` 中的代理配置：

```javascript
proxy: {
  [process.env.VUE_APP_BASE_API]: {
    target: `http://localhost:8099`,  // MCP 服务器地址
    changeOrigin: true,
    pathRewrite: {
      ['^' + process.env.VUE_APP_BASE_API]: ''
    }
  }
}
```

## 🐛 常见问题

### 1. API 调用失败

**问题**: 前端调用 API 返回 404 或 CORS 错误

**解决**:
- 确认后端服务已启动（http://localhost:8099）
- 检查前端代理配置
- 查看浏览器控制台的错误信息

### 2. VectorStore 初始化失败

**问题**: 后端启动时报 Redis 相关错误

**解决**:
```bash
# 检查 Redis 是否启动
redis-cli ping

# 如果没启动，启动 Redis（需要 RedisStack）
docker run -d --name redis-stack -p 6379:6379 redis/redis-stack:latest
```

### 3. 推荐结果为空

**问题**: API 返回空数组

**解决**:
- 向量数据库可能还没有数据
- 检查是否已上传数据到 RAG
- 查看后端日志的错误信息

### 4. 前端找不到路由

**问题**: 访问 /stardew/recommendation 显示 404

**解决**:
- 检查路由配置是否正确
- 清除浏览器缓存
- 重启前端服务

## 📝 测试清单

运行这些测试确保一切正常：

### 后端测试

```bash
# 测试 1: 个性化推荐
curl "http://localhost:8099/api/recommendation/personalized?query=作物&topK=5"
# 期望: 返回 JSON 数组

# 测试 2: 策略建议（SSE）
curl -N "http://localhost:8099/api/recommendation/strategy?scenario=新手玩家"
# 期望: 流式返回文本

# 测试 3: 相似内容
curl "http://localhost:8099/api/recommendation/similar?itemId=1&itemType=crop&topK=3"
# 期望: 返回相似内容列表
```

### 前端测试

- [ ] 可以访问推荐页面
- [ ] 三个标签页都能正常切换
- [ ] 输入查询后能看到结果
- [ ] 策略建议能看到流式响应
- [ ] 示例查询按钮能正常工作
- [ ] 移动端显示正常

## 🎯 下一步

完成基础测试后，你可以：

1. **阅读增强建议文档**
   - 从`给你的建议.md`开始
   - 详细阅读`ENHANCEMENT_PROPOSAL.md`
   - 选择 2-3 个方向开始实现

2. **完善推荐系统**
   - 添加用户行为追踪
   - 实现协同过滤
   - 优化推荐算法

3. **实现其他功能**
   - AI Agent 编排系统（最重要！）
   - 知识图谱
   - 数据分析看板

4. **准备面试材料**
   - 录制 Demo 视频
   - 写技术博客
   - 更新简历

## 📚 文档阅读顺序

建议按这个顺序阅读文档：

1. **给你的建议.md** ⭐ 先读这个！
2. **本文件（快速启动指南）**
3. **RECOMMENDATION_SYSTEM_GUIDE.md**
4. **项目增强建议总结.md**
5. **ENHANCEMENT_PROPOSAL.md**

## 💪 需要帮助？

如果遇到问题：

1. 检查后端日志：`aurora-mcp/logs/`
2. 检查浏览器控制台
3. 查看 GitHub Issues
4. 参考文档中的"常见问题"部分

## 🎉 完成后的效果

成功运行后，你将看到：

- ✅ 美观的推荐界面
- ✅ 实时流式 AI 响应
- ✅ 多维度的推荐结果
- ✅ 响应式设计，支持移动端

这就是一个**简历上的亮点功能**！

---

**祝你实现顺利！加油！** 🚀
